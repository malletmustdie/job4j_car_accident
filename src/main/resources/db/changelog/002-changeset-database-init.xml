<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.1.xsd">

    <changeSet author="elias" id="init-authorities">
        <sql>
            insert into authorities (authority)
            values ('ROLE_USER');
            insert into authorities (authority)
            values ('ROLE_ADMIN');
        </sql>
    </changeSet>
    <changeSet author="elias" id="init-users">
        <sql>
            insert into users (username, enabled, password, authority_id)
            values ('root', true, '$2a$10$ZFjH2a9FrbbicgOd32gR6OkP4EGQbbepHSNyUKp/lb0vrTeOy0WTK',
                    (select id from authorities where authority = 'ROLE_ADMIN'));
        </sql>
    </changeSet>
    <changeSet author="elias" id="init-types">
        <sql>
            insert into types (name)
            values ('Две машины'),
                   ('Машина и человек'),
                   ('Машина и велосипед');
        </sql>
    </changeSet>
    <changeSet author="elias" id="init-rules">
        <sql>
            insert into rules (name)
            values ('Статья-1'),
                   ('Статья-2'),
                   ('Статья-3');
        </sql>
    </changeSet>
    <changeSet author="elias" id="init-accidents">
        <sql>
            insert into accidents (name, text, address, accident_type_id)
            values ('ДТП', 'Столкновение на кольце', 'г. Москва, Садовое кольцо', 1),
                   ('ДТП', 'ДТП на пешеходном переходе', 'г. Липецк, проспект 60 лет СССР', 2),
                   ('ДТП', 'Столкновение на перекрестке', 'г. Воронеж, Газовый переулок ', 3);
        </sql>
    </changeSet>
    <changeSet author="elias" id="init-accident_rule">
        <sql>
            insert into accident_rule(accident_id, rule_id)
            values (1, 1),
                   (1, 2),
                   (2, 1),
                   (2, 2),
                   (2, 3),
                   (3, 1);
        </sql>
    </changeSet>
</databaseChangeLog>